# This suite focuses specifically on testing the return policy logic
# for the customer_service prompt.

config:
  # Specify the prompt to test, same as main.yml.
  prompt: customer_service

tests:
  # Test 1: User is clearly within the return window.
  - id: check-return-policy-within-30-days
    inputs:
      <<: *standard_user # Reusing the standard user profile from prompttest.yml
      product_name: *product_name
      user_query: "I bought my watch last week and I'd like to return it. Is that possible?"
    criteria: >
      The response must correctly inform the user they are within the 30-day return window.
      It should be polite and provide clear next steps for initiating a return.

  # Test 2: User is clearly outside the return window.
  - id: check-return-policy-outside-30-days
    inputs:
      user_name: "Charlie"
      user_tier: "Standard"
      product_name: *product_name
      user_query: "I purchased a watch about two months ago and it's not what I expected. Can I still return it?"
    criteria: >
      The response must correctly state that the 30-day return period has passed.
      Crucially, it must do so with an empathetic and apologetic tone, not a blunt rejection.
      It should adhere to the politeness rules defined in the prompt.

  # Test 3: User's eligibility is unclear.
  - id: check-return-policy-unclear-purchase-date
    inputs:
      user_name: "Dana"
      user_tier: "Premium"
      product_name: *product_name
      user_query: "Hi, I'm thinking about returning my watch."
    criteria: >
      The response should first state the 30-day return policy.
      Then, it should politely ask the user for their purchase date to verify eligibility.
      The tone should be helpful and proactive.
